<!-- Página para as matérias -->

<!DOCTYPE html>

<html lang="pt-BR" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">

<head>
    <title>Matérias do curso</title>
    <link href="/estilos/forum.css" rel="stylesheet">
</head>
<body>
 
 <section layout:fragment="content">
      <div class="container">
       
        <div th:replace="fragments/mensagens"></div>
        
        <form method="get" th:action="@{/cursos/materias/adicionar}" th:object="${curso}" enctype="multipart/form-data"> 
        	<input name="id" type="hidden" th:value="${curso.id}">
        	<input type="hidden" th:value="${curso.nome}">
        	<input type="hidden" th:value="${curso.descricao}">
           <input type="hidden" th:field="${curso.logoCurso.id}" />
         	<button id="btn-adicionar" type="submit" class="btn btn-primary">Adicionar</button>
		</form>
		
		
			<br />
			<br />
			
          <h2 class="h4 bg-primary mb-0 p-4 rounded-top text-white" text-white>Matérias do curso</h2>
          
		<nav class="navbar navbar-light bg-light">
			 <div class="container-fluid">
			    <a class="navbar-brand"></a>
				    <form class="d-flex" method="get" th:action="@{/cursos/materias/buscar}" th:object="${curso}" enctype="multipart/form-data">
				      <input name="id" type="hidden" th:value="${curso.id}">
		        	  <input type="hidden" th:value="${curso.nome}">
		        	  <input type="hidden" th:value="${curso.descricao}">	    
                     <input type="hidden" th:field="${curso.logoCurso.id}" />
		        	  
				      <input name="nome" class="form-control me-2" type="search" placeholder="Nome da matéria" aria-label="Search">
				      <button class="btn btn-primary" type="submit">Buscar</button>
				    </form>
			  </div>
		</nav>
		
          <table class="table table-striped table-bordered table-responsive mb-xl-0">
            <thead class="thead-light">
                <tr >
                  <th scope="col" class="forum-col">Nome da matéria</th>
                  <th scope="col" class="forum-col">Carga Horária</th>
                  <th scope="col" class="last-post-col">Opções</th>
                </tr>
            </thead>
            
            <tbody>
              
              <tr th:each="materia : ${materias}">
              	<td>
              		<h3 class="h5 mb-0" th:text="${materia.nome}"></h3>
              	</td>
              	<td>
                  <span th:text="${materia.cargaHoraria}"></span>
                </td>
                
                <td> 
                
                <a th:href="@{/cursos/materias/editar/} + ${materia.id}"><i class="bi bi-pencil"></i></a>
                <a th:href="@{/cursos/materias/remover/} + ${materia.id}"><i class="bi bi-trash-fill text-danger"></i></a>
                
                </td>
                
              </tr>
              
            </tbody>
            
          </table>

      </div>
</section>
<!-- O JS fica aqui para otimizar o carregamento da página.-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>    

</body>
</html>